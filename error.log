 docker ps
CONTAINER ID   IMAGE                              COMMAND                  CREATED         STATUS                            PORTS                                    NAMES
99f44000c1c9   local/sam-backend:dev              "uvicorn backend.mai…"   2 minutes ago   Up About a minute (unhealthy)     0.0.0.0:8000->8000/tcp                   compose-backend-1
a8a6f150194f   quay.io/keycloak/keycloak:22.0.1   "/opt/keycloak/bin/k…"   2 minutes ago   Up 2 minutes (health: starting)   8443/tcp, 0.0.0.0:8081->8080/tcp         keycloak
9631688662f0   postgres:16-alpine                 "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)            5432/tcp                                 compose-postgres-1
b0cdfdf91899   redis:7-alpine                     "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)            6379/tcp                                 compose-redis-1
7ecf3252a266   local/sam-client-portal:dev        "docker-entrypoint.s…"   11 hours ago    Up 18 minutes                     0.0.0.0:5173->3000/tcp                   compose-client-portal-1
0c795dd2d567   prom/prometheus:v2.55.0            "/bin/prometheus --c…"   11 hours ago    Up 11 hours                       0.0.0.0:9090->9090/tcp                   compose-prometheus-1
da0104c8a5cc   bitnami/zookeeper:3.9              "/opt/bitnami/script…"   11 hours ago    Up 11 hours                       2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp   compose-zookeeper-1
d2a97aef8817   bitnami/kafka:3.7                  "/opt/bitnami/script…"   11 hours ago    Up 11 hours                       9092/tcp                                 compose-kafka-1
3b7a6d11cc07   local/sam-frontend:dev             "python -m http.serv…"   11 hours ago    Up 11 hours                       0.0.0.0:8090->8000/tcp                   compose-frontend-1
2b3daff8b89c   grafana/grafana:11.1.0             "/run.sh"                11 hours ago    Up 11 hours                       0.0.0.0:3001->3000/tcp                   compose-grafana-1
101308e7791c   minio/mc:latest                    "/bin/sh -c ' echo '…"   2 weeks ago     Up 2 weeks                                                                 minio-client
9864a7b37372   minio/minio:latest                 "/usr/bin/docker-ent…"   2 weeks ago     Up 2 weeks (healthy)              0.0.0.0:9000-9001->9000-9001/tcp         minio-server
f219b96258b5   txe-web_app                        "docker-entrypoint.s…"   6 weeks ago     Up 6 weeks                        0.0.0.0:3002->3002/tcp                   txe-web_app_1
b76b69afa727   website_app                        "docker-entrypoint.s…"   4 months ago    Up 4 months                       0.0.0.0:3000->3000/tcp                   website_app_1
[root@vmi2390455 sam]# docker ps
CONTAINER ID   IMAGE                              COMMAND                  CREATED         STATUS                            PORTS                                    NAMES
99f44000c1c9   local/sam-backend:dev              "uvicorn backend.mai…"   2 minutes ago   Up 2 minutes (healthy)            0.0.0.0:8000->8000/tcp                   compose-backend-1
a8a6f150194f   quay.io/keycloak/keycloak:22.0.1   "/opt/keycloak/bin/k…"   2 minutes ago   Up 2 minutes (health: starting)   8443/tcp, 0.0.0.0:8081->8080/tcp         keycloak
9631688662f0   postgres:16-alpine                 "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)            5432/tcp                                 compose-postgres-1
b0cdfdf91899   redis:7-alpine                     "docker-entrypoint.s…"   2 minutes ago   Up 2 minutes (healthy)            6379/tcp                                 compose-redis-1
7ecf3252a266   local/sam-client-portal:dev        "docker-entrypoint.s…"   11 hours ago    Up 19 minutes                     0.0.0.0:5173->3000/tcp                   compose-client-portal-1
0c795dd2d567   prom/prometheus:v2.55.0            "/bin/prometheus --c…"   11 hours ago    Up 11 hours                       0.0.0.0:9090->9090/tcp                   compose-prometheus-1
da0104c8a5cc   bitnami/zookeeper:3.9              "/opt/bitnami/script…"   11 hours ago    Up 11 hours                       2181/tcp, 2888/tcp, 3888/tcp, 8080/tcp   compose-zookeeper-1
d2a97aef8817   bitnami/kafka:3.7                  "/opt/bitnami/script…"   11 hours ago    Up 11 hours                       9092/tcp                                 compose-kafka-1
3b7a6d11cc07   local/sam-frontend:dev             "python -m http.serv…"   11 hours ago    Up 11 hours                       0.0.0.0:8090->8000/tcp                   compose-frontend-1
2b3daff8b89c   grafana/grafana:11.1.0             "/run.sh"                11 hours ago    Up 11 hours                       0.0.0.0:3001->3000/tcp                   compose-grafana-1
101308e7791c   minio/mc:latest                    "/bin/sh -c ' echo '…"   2 weeks ago     Up 2 weeks                                                                 minio-client
9864a7b37372   minio/minio:latest                 "/usr/bin/docker-ent…"   2 weeks ago     Up 2 weeks (healthy)              0.0.0.0:9000-9001->9000-9001/tcp         minio-server
f219b96258b5   txe-web_app                        "docker-entrypoint.s…"   6 weeks ago     Up 6 weeks                        0.0.0.0:3002->3002/tcp                   txe-web_app_1
b76b69afa727   website_app                        "docker-entrypoint.s…"   4 months ago    Up 4 months                       0.0.0.0:3000->3000/tcp                   website_app_1
[root@vmi2390455 sam]# docker logs 99f44000c1c9
INFO:     Will watch for changes in these directories: ['/app']
WARNING:  "workers" flag is ignored when reloading is enabled.
INFO:     Uvicorn running on http://0.0.0.0:8000 (Press CTRL+C to quit)
INFO:     Started reloader process [1] using WatchFiles
INFO:     Started server process [7]
INFO:     Waiting for application startup.
2025-09-04 15:44:51,112 - backend.main - INFO - Starting Towerco AIOps Platform...
2025-09-04 15:44:51,112 - core.monitoring - INFO - OpenTelemetry endpoint not configured, using Prometheus only
2025-09-04 15:44:51,113 - core.monitoring - INFO - Custom metrics initialized
2025-09-04 15:44:51,113 - core.monitoring - INFO - Monitoring initialized successfully
2025-09-04 15:44:51,931 INFO sqlalchemy.engine.Engine select pg_catalog.version()
2025-09-04 15:44:51,932 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-04 15:44:51,931 - sqlalchemy.engine.Engine - INFO - select pg_catalog.version()
2025-09-04 15:44:51,932 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-04 15:44:51,963 INFO sqlalchemy.engine.Engine select current_schema()
2025-09-04 15:44:51,963 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-04 15:44:51,963 - sqlalchemy.engine.Engine - INFO - select current_schema()
2025-09-04 15:44:51,963 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-04 15:44:51,970 INFO sqlalchemy.engine.Engine show standard_conforming_strings
2025-09-04 15:44:51,970 INFO sqlalchemy.engine.Engine [raw sql] ()
2025-09-04 15:44:51,970 - sqlalchemy.engine.Engine - INFO - show standard_conforming_strings
2025-09-04 15:44:51,970 - sqlalchemy.engine.Engine - INFO - [raw sql] ()
2025-09-04 15:44:51,973 INFO sqlalchemy.engine.Engine BEGIN (implicit)
2025-09-04 15:44:51,973 - sqlalchemy.engine.Engine - INFO - BEGIN (implicit)
2025-09-04 15:44:51,974 INFO sqlalchemy.engine.Engine SELECT 1
2025-09-04 15:44:51,974 INFO sqlalchemy.engine.Engine [generated in 0.00024s] ()
2025-09-04 15:44:51,974 - sqlalchemy.engine.Engine - INFO - SELECT 1
2025-09-04 15:44:51,974 - sqlalchemy.engine.Engine - INFO - [generated in 0.00024s] ()
2025-09-04 15:44:51,979 INFO sqlalchemy.engine.Engine COMMIT
2025-09-04 15:44:51,979 - sqlalchemy.engine.Engine - INFO - COMMIT
2025-09-04 15:44:52,004 - core.database - INFO - Database connection test successful
2025-09-04 15:44:52,004 - core.database - INFO - Database connections initialized successfully
2025-09-04 15:44:52,011 - core.cache - INFO - Redis connection initialized successfully
2025-09-04 15:44:53,222 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=bootstrap-0 host=kafka:9092 <connecting> [IPv4 ('172.23.0.5', 9092)]>: connecting to kafka:9092 [('172.23.0.5', 9092) IPv4]
2025-09-04 15:44:53,230 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=bootstrap-0 host=kafka:9092 <checking_api_versions_recv> [IPv4 ('172.23.0.5', 9092)]>: Broker version identified as 2.6
2025-09-04 15:44:53,231 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=bootstrap-0 host=kafka:9092 <connected> [IPv4 ('172.23.0.5', 9092)]>: Connection complete.
2025-09-04 15:44:53,240 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=1 host=kafka:9092 <connecting> [IPv4 ('172.23.0.5', 9092)]>: connecting to kafka:9092 [('172.23.0.5', 9092) IPv4]
2025-09-04 15:44:53,241 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=1 host=kafka:9092 <connected> [IPv4 ('172.23.0.5', 9092)]>: Connection complete.
2025-09-04 15:44:53,241 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=bootstrap-0 host=kafka:9092 <connected> [IPv4 ('172.23.0.5', 9092)]>: Closing connection.
2025-09-04 15:44:53,275 - core.messaging - INFO - Kafka topics already exist
2025-09-04 15:44:53,279 - kafka.conn - INFO - <BrokerConnection client_id=towerco_admin, node_id=1 host=kafka:9092 <connected> [IPv4 ('172.23.0.5', 9092)]>: Closing connection.
2025-09-04 15:44:53,281 - core.messaging - INFO - Kafka producer initialized successfully
2025-09-04 15:44:53,282 - core.auth - INFO - Waiting for Keycloak to start...
2025-09-04 15:45:03,287 - core.auth - INFO - Keycloak not ready, attempt 1/60
2025-09-04 15:45:05,289 - core.auth - INFO - Keycloak not ready, attempt 2/60
2025-09-04 15:45:07,318 - core.auth - INFO - Keycloak not ready, attempt 3/60
2025-09-04 15:45:09,320 - core.auth - INFO - Keycloak not ready, attempt 4/60
2025-09-04 15:45:11,321 - core.auth - INFO - Keycloak not ready, attempt 5/60
2025-09-04 15:45:13,355 - core.auth - INFO - Keycloak not ready, attempt 6/60
2025-09-04 15:45:15,414 - core.auth - INFO - Keycloak not ready, attempt 7/60
2025-09-04 15:45:17,420 - core.auth - INFO - Keycloak not ready, attempt 8/60
2025-09-04 15:45:19,448 - core.auth - INFO - Keycloak not ready, attempt 9/60
2025-09-04 15:45:21,471 - core.auth - INFO - Keycloak not ready, attempt 10/60
2025-09-04 15:45:23,588 - core.auth - INFO - Keycloak not ready, attempt 11/60
2025-09-04 15:45:25,618 - core.auth - INFO - Keycloak not ready, attempt 12/60
2025-09-04 15:45:27,622 - core.auth - INFO - Keycloak not ready, attempt 13/60
2025-09-04 15:45:29,642 - core.auth - INFO - Keycloak not ready, attempt 14/60
2025-09-04 15:45:31,644 - core.auth - INFO - Keycloak not ready, attempt 15/60
2025-09-04 15:45:34,069 - core.auth - INFO - Keycloak not ready, attempt 16/60
2025-09-04 15:45:36,073 - core.auth - INFO - Keycloak not ready, attempt 17/60
2025-09-04 15:45:38,101 - core.auth - INFO - Keycloak not ready, attempt 18/60
2025-09-04 15:45:40,226 - core.auth - INFO - Keycloak not ready, attempt 19/60
2025-09-04 15:45:42,230 - core.auth - INFO - Keycloak not ready, attempt 20/60
2025-09-04 15:45:44,239 - core.auth - INFO - Keycloak not ready, attempt 21/60
2025-09-04 15:45:46,243 - core.auth - INFO - Keycloak not ready, attempt 22/60
2025-09-04 15:45:48,245 - core.auth - INFO - Keycloak not ready, attempt 23/60
2025-09-04 15:45:50,248 - core.auth - INFO - Keycloak not ready, attempt 24/60
2025-09-04 15:45:52,262 - core.auth - INFO - Keycloak not ready, attempt 25/60
2025-09-04 15:45:54,282 - core.auth - INFO - Keycloak not ready, attempt 26/60
2025-09-04 15:45:56,284 - core.auth - INFO - Keycloak not ready, attempt 27/60
2025-09-04 15:45:58,403 - core.auth - INFO - Keycloak not ready, attempt 28/60
2025-09-04 15:46:00,407 - core.auth - INFO - Keycloak not ready, attempt 29/60
2025-09-04 15:46:02,412 - core.auth - INFO - Keycloak not ready, attempt 30/60
2025-09-04 15:46:04,420 - core.auth - INFO - Keycloak not ready, attempt 31/60
2025-09-04 15:46:06,430 - core.auth - INFO - Keycloak not ready, attempt 32/60
2025-09-04 15:46:08,432 - core.auth - INFO - Keycloak not ready, attempt 33/60
2025-09-04 15:46:10,433 - core.auth - INFO - Keycloak not ready, attempt 34/60
2025-09-04 15:46:12,435 - core.auth - INFO - Keycloak not ready, attempt 35/60
2025-09-04 15:46:14,443 - core.auth - INFO - Keycloak not ready, attempt 36/60
2025-09-04 15:46:16,468 - core.auth - INFO - Keycloak not ready, attempt 37/60
2025-09-04 15:46:18,483 - core.auth - INFO - Keycloak not ready, attempt 38/60
2025-09-04 15:46:20,492 - core.auth - INFO - Keycloak socket is available, initializing...
2025-09-04 15:46:22,525 - core.auth - INFO - Keycloak connection test successful
2025-09-04 15:46:22,525 - core.auth - INFO - Keycloak authentication initialized successfully
2025-09-04 15:46:22,527 - backend.main - INFO - Towerco AIOps Platform started successfully
INFO:     Application startup complete.
INFO:     172.23.0.2:36434 - "GET /metrics HTTP/1.1" 200 OK
INFO:     172.23.0.2:60534 - "GET /metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:52834 - "GET /health HTTP/1.1" 307 Temporary Redirect
2025-09-04 15:46:52,532 - backend.main - ERROR - Failed to update system metrics: 'Pool' object has no attribute 'get_available_size'
Traceback (most recent call last):
  File "/app/backend/main.py", line 274, in update_system_metrics
    metrics.db_connections_active.set(pool.get_size() - pool.get_available_size())
                                                        ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Pool' object has no attribute 'get_available_size'
INFO:     172.23.0.2:48000 - "GET /metrics HTTP/1.1" 200 OK
INFO:     172.23.0.2:50274 - "GET /metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:39792 - "GET /health HTTP/1.1" 307 Temporary Redirect
2025-09-04 15:47:22,535 - backend.main - ERROR - Failed to update system metrics: 'Pool' object has no attribute 'get_available_size'
Traceback (most recent call last):
  File "/app/backend/main.py", line 274, in update_system_metrics
    metrics.db_connections_active.set(pool.get_size() - pool.get_available_size())
                                                        ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Pool' object has no attribute 'get_available_size'
INFO:     172.23.0.2:43820 - "GET /metrics HTTP/1.1" 200 OK
INFO:     172.23.0.2:35218 - "GET /metrics HTTP/1.1" 200 OK
INFO:     127.0.0.1:57394 - "GET /health HTTP/1.1" 307 Temporary Redirect
2025-09-04 15:47:52,536 - backend.main - ERROR - Failed to update system metrics: 'Pool' object has no attribute 'get_available_size'
Traceback (most recent call last):
  File "/app/backend/main.py", line 274, in update_system_metrics
    metrics.db_connections_active.set(pool.get_size() - pool.get_available_size())
                                                        ^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Pool' object has no attribute 'get_available_size'